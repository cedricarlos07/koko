les instructions complÃ¨tes pour mettre en place une automatisation flexible des messages envoyÃ©s chaque matin dans les groupes Telegram, incluant :

ğŸ—“ï¸ Une exÃ©cution automatique quotidienne

âœï¸ Une possibilitÃ© dâ€™Ã©diter ou dÃ©sactiver les automatisations via une interface admin

ğŸ¤– Une synchronisation avec Zoom, Telegram, la base SQLite et le fichier de planning

âœ… FONCTIONNALITÃ‰ : ENVOI MATINAL AUTOMATISÃ‰ DES MESSAGES DE COURS + CONFIGURATION MODIFIABLE
ğŸ¯ Objectif
Envoyer chaque matin Ã  06h GMT les messages de rappel pour les cours du jour dans leurs groupes Telegram dÃ©diÃ©s, avec lien Zoom auto.

Donner la possibilitÃ© Ã  lâ€™admin (ou au professeur) de :

activer/dÃ©sactiver les messages

modifier un cours, une heure, un groupe ou un message

reprogrammer manuellement lâ€™envoi

ğŸ§© STRUCTURE DES COMPOSANTS

Ã‰lÃ©ment	Description
ğŸ—‚ï¸ Fichier CSV Fix Schedule	Planning de la semaine par classe
ğŸ§  Base SQLite classes.db	Contient les infos parsÃ©es du planning
ğŸ¤– Bot Telegram connectÃ©	Peut envoyer des messages dans chaque groupe
ğŸ”— Zoom API	GÃ©nÃ¨re automatiquement les liens de rÃ©union
ğŸ–¥ï¸ Interface Admin	Permet de modifier les automatisations
ğŸ§µ Ã‰TAPES DU FONCTIONNEMENT
ğŸ•• 1. TÃ¢che CRON quotidienne Ã  6h GMT
Utiliser node-cron pour exÃ©cuter chaque jour Ã  6h GMT :

bash
Copy
Edit
0 6 * * * // (GMT)
ğŸ“Š 2. RÃ©cupÃ©ration des cours du jour
Le systÃ¨me lit les cours de la journÃ©e depuis la base de donnÃ©es (ex : mardi â†’ mardi)

Pour chaque cours :

Heure, professeur, groupe Telegram, etc.

CrÃ©ation automatique de rÃ©union Zoom si non existante

ğŸ“¬ 3. PrÃ©paration du message Telegram
Format stylisÃ© (template avec Ã©mojis) :

markdown
Copy
Edit
ğŸ“š *Cours du jour : [Nom du Cours]*
ğŸ‘¨â€ğŸ« Prof : [Professeur]
ğŸ•’ Heure : [Heure GMT]
ğŸ”— [ğŸ‘‰ Lien Zoom ici](#)

Bonne journÃ©e et soyez ponctuelÂ·les ! ğŸ¯
ğŸ“¤ 4. Envoi automatique dans le groupe associÃ©
Lâ€™identifiant du groupe est lu depuis la table groupes

Le message est envoyÃ© par le bot

ğŸ–¥ï¸ 5. Interface de gestion (Admin Panel)
Fonctions disponibles :
âœ… Voir les cours du jour

âœï¸ Modifier un cours (heure, groupe, Zoom, etc.)

ğŸ”• DÃ©sactiver un envoi prÃ©vu

ğŸ”„ Reprogrammer un message

ğŸ’¬ PrÃ©visualiser le message Ã  envoyer

Exemple de champs Ã  modifier dans lâ€™interface :

Champ	Action possible
Groupe Telegram	Changer ou ajouter manuellement
Heure de dÃ©but	Modifier
Lien Zoom	Forcer un lien perso
Statut du message	ActivÃ© / DÃ©sactivÃ©
ğŸ§ª Logs de chaque envoi
CrÃ©er une table logs_messages :

date

heure

cours

message envoyÃ©

statut (succÃ¨s, erreur, annulÃ©)

id_groupe

lien Zoom utilisÃ©

ğŸ§  PossibilitÃ© dâ€™ajouter un test manuel
Dans lâ€™admin, bouton : "Tester un message maintenant"

Permet dâ€™envoyer un exemple dans un groupe test

Permet de prÃ©visualiser un message pour demain